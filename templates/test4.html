<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Task Boards</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <!-- <link rel="stylesheet" href="styles.css"> -->
    <style>
        /* Base Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: #f9fafb;
            color: #1f2937;
            min-height: 100vh;
        }

        .hidden {
            display: none !important;
        }

        .icon {
            width: 20px;
            height: 20px;
        }

        /* Layout */
        .app-container {
            display: flex;
            height: 100vh;
            overflow: hidden;
        }

        /* Sidebar */
        .sidebar {
            display: none;
            flex-direction: column;
            width: 256px;
            background-color: #4c1d95;
            color: white;
        }

        @media (min-width: 768px) {
            .sidebar {
                display: flex;
            }
        }

        .sidebar-header {
            display: flex;
            align-items: center;
            justify-content: center;
            height: 64px;
            border-bottom: 1px solid #5b21b6;
        }

        .logo {
            font-size: 1.25rem;
            font-weight: 700;
        }

        .sidebar-content {
            display: flex;
            flex-direction: column;
            flex-grow: 1;
            padding: 24px 16px;
        }

        .nav-links {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .nav-link {
            display: flex;
            align-items: center;
            padding: 12px 16px;
            border-radius: 8px;
            color: rgba(255, 255, 255, 0.8);
            text-decoration: none;
            transition: background-color 0.2s;
        }

        .nav-link:hover {
            background-color: #5b21b6;
            color: white;
        }

        .nav-link.active {
            background-color: #5b21b6;
            color: white;
        }

        .nav-link .icon {
            margin-right: 12px;
        }

        .sidebar-section {
            margin-top: 40px;
        }

        .sidebar-section-title {
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            color: rgba(255, 255, 255, 0.6);
            margin-bottom: 12px;
            padding: 0 8px;
        }

        .sidebar-taskboards {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .sidebar-footer {
            margin-top: auto;
        }

        .logout-button {
            display: flex;
            align-items: center;
            width: 100%;
            padding: 12px 16px;
            border-radius: 8px;
            background: none;
            border: none;
            color: rgba(255, 255, 255, 0.8);
            text-align: left;
            font-size: 1rem;
            cursor: pointer;
            transition: background-color 0.2s;
        }

        .logout-button:hover {
            background-color: #5b21b6;
            color: white;
        }

        .logout-button .icon {
            margin-right: 12px;
        }

        .user-profile {
            display: flex;
            align-items: center;
            padding: 12px 16px;
            margin-top: 8px;
            background-color: #5b21b6;
            border-radius: 8px;
        }

        .user-avatar {
            flex-shrink: 0;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background-color: #7c3aed;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 500;
        }

        .user-info {
            margin-left: 12px;
        }

        .user-name {
            font-size: 0.875rem;
            font-weight: 500;
        }

        .user-email {
            font-size: 0.75rem;
            color: rgba(255, 255, 255, 0.6);
        }

        /* Main Content */
        .main-content {
            flex: 1;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        /* Header */
        .header {
            background-color: white;
            box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);
            z-index: 10;
        }

        .header-container {
            display: flex;
            align-items: center;
            justify-content: space-between;
            height: 64px;
            padding: 0 24px;
        }

        .header-left {
            display: flex;
            align-items: center;
        }

        .mobile-menu-button {
            display: block;
            margin-right: 16px;
            background: none;
            border: none;
            color: #6b7280;
            cursor: pointer;
        }

        .mobile-menu-button:hover {
            color: #374151;
        }

        @media (min-width: 768px) {
            .mobile-menu-button {
                display: none;
            }
        }

        .page-title {
            font-size: 1.25rem;
            font-weight: 600;
            color: #1f2937;
        }

        /* Stats */
        .stats-container {
            background-color: white;
            border-bottom: 1px solid #e5e7eb;
            padding: 16px 24px;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 16px;
        }

        .stat-card {
            display: flex;
            align-items: center;
            padding: 16px;
            border-radius: 8px;
        }

        .stat-created {
            background-color: #f3f4f6;
        }

        .stat-collaborator {
            background-color: #eff6ff;
        }

        .stat-icon {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 48px;
            height: 48px;
            border-radius: 50%;
            margin-right: 16px;
        }

        .stat-created .stat-icon {
            background-color: #e5e7eb;
            color: #7c3aed;
        }

        .stat-collaborator .stat-icon {
            background-color: #dbeafe;
            color: #2563eb;
        }

        .stat-content {
            flex: 1;
        }

        .stat-label {
            font-size: 0.875rem;
            font-weight: 500;
            margin-bottom: 4px;
        }

        .stat-created .stat-label {
            color: #7c3aed;
        }

        .stat-collaborator .stat-label {
            color: #2563eb;
        }

        .stat-value {
            font-size: 1.5rem;
            font-weight: 700;
        }

        .stat-created .stat-value {
            color: #4c1d95;
        }

        .stat-collaborator .stat-value {
            color: #1e40af;
        }

        /* Content Area */
        .content-area {
            flex: 1;
            overflow: auto;
            padding: 24px;
            background-color: #f9fafb;
        }

        .board-section {
            margin-bottom: 32px;
        }

        .section-title {
            font-size: 1.125rem;
            font-weight: 500;
            color: #1f2937;
            margin-bottom: 16px;
        }

        .taskboards-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 24px;
        }

        @media (min-width: 768px) {
            .taskboards-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (min-width: 1024px) {
            .taskboards-grid {
                grid-template-columns: repeat(3, 1fr);
            }
        }

        .empty-section {
            background-color: #f3f4f6;
            border-radius: 8px;
            padding: 24px;
            text-align: center;
            color: #6b7280;
        }

        /* Taskboard Card */
        .taskboard-card {
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);
            overflow: hidden;
            transition: all 0.2s ease;
        }

        .taskboard-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }

        .card-content {
            padding: 24px;
        }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 16px;
        }

        .card-title {
            font-size: 1.125rem;
            font-weight: 500;
            color: #1f2937;
            margin-bottom: 4px;
        }

        .card-badge {
            display: inline-block;
            padding: 2px 8px;
            border-radius: 9999px;
            font-size: 0.75rem;
            margin-top: 4px;
        }

        .badge-creator {
            background-color: #f3e8ff;
            color: #7e22ce;
        }

        .badge-collaborator {
            background-color: #dbeafe;
            color: #2563eb;
        }

        .dropdown {
            position: relative;
        }

        .dropdown-toggle {
            background: none;
            border: none;
            color: #9ca3af;
            cursor: pointer;
        }

        .dropdown-toggle:hover {
            color: #6b7280;
        }

        .dropdown-menu {
            position: absolute;
            right: 0;
            top: 100%;
            margin-top: 8px;
            width: 192px;
            background-color: white;
            border-radius: 6px;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            z-index: 10;
        }

        .dropdown-item {
            display: block;
            padding: 8px 16px;
            font-size: 0.875rem;
            color: #374151;
            text-decoration: none;
        }

        .dropdown-item:hover {
            background-color: #f3f4f6;
        }

        .dropdown-item.danger {
            color: #dc2626;
        }

        .card-stats {
            display: flex;
            align-items: center;
            font-size: 0.875rem;
            color: #6b7280;
            margin-bottom: 16px;
        }

        .card-stats .icon {
            width: 16px;
            height: 16px;
            margin-right: 4px;
        }

        .stat-separator {
            margin: 0 8px;
        }

        .stat-completed {
            color: #10b981;
        }

        .stat-active {
            color: #f59e0b;
        }

        .member-avatars {
            display: flex;
            margin-left: -8px;
            overflow: hidden;
        }

        .member-avatar {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background-color: #f3e8ff;
            color: #7e22ce;
            font-size: 0.75rem;
            font-weight: 500;
            border: 2px solid white;
            margin-left: -8px;
        }

        .avatar-more {
            background-color: #e5e7eb;
            color: #4b5563;
        }

        .card-footer {
            padding: 12px 24px;
            background-color: #f9fafb;
            border-top: 1px solid #e5e7eb;
        }

        .open-board-btn {
            display: block;
            width: 100%;
            text-align: center;
            padding: 8px 0;
            background-color: #7c3aed;
            color: white;
            border: none;
            border-radius: 6px;
            font-size: 0.875rem;
            font-weight: 500;
            cursor: pointer;
            transition: background-color 0.2s;
            text-decoration: none;
        }

        .open-board-btn:hover {
            background-color: #6d28d9;
        }

        /* Empty State */
        .empty-state {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 48px 0;
        }

        .empty-icon {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 64px;
            height: 64px;
            border-radius: 50%;
            background-color: #f3e8ff;
            margin-bottom: 16px;
        }

        .empty-icon .icon {
            width: 32px;
            height: 32px;
            color: #7c3aed;
        }

        .empty-title {
            font-size: 1.25rem;
            font-weight: 500;
            color: #1f2937;
            margin-bottom: 8px;
        }

        .empty-description {
            color: #6b7280;
            margin-bottom: 24px;
            text-align: center;
            max-width: 400px;
        }

        /* Buttons */
        .button {
            display: inline-flex;
            align-items: center;
            padding: 8px 12px;
            border-radius: 6px;
            font-size: 0.875rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
        }

        .button .icon {
            margin-right: 4px;
        }

        .button-primary {
            background-color: #7c3aed;
            color: white;
            border: none;
        }

        .button-primary:hover {
            background-color: #6d28d9;
        }

        .button-secondary {
            background-color: white;
            color: #374151;
            border: 1px solid #d1d5db;
        }

        .button-secondary:hover {
            background-color: #f9fafb;
        }

        .button-error {
            background-color: #dc2626;
            color: white;
            border: none;
            width: 100%;
            padding: 12px 0;
        }

        .button-error:hover {
            background-color: #b91c1c;
        }

        .button-add {
            background-color: #7c3aed;
            color: white;
            border: none;
            border-radius: 0 6px 6px 0;
        }

        .button-add:hover {
            background-color: #6d28d9;
        }

        /* Modals */
        .modal {
            position: fixed;
            inset: 0;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 40;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .modal-content {
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
            max-width: 400px;
            width: 100%;
            padding: 24px;
        }

        .error-modal {
            max-width: 400px;
        }

        .error-header {
            display: flex;
            align-items: center;
            margin-bottom: 24px;
        }

        .error-icon {
            width: 48px;
            height: 48px;
            border-radius: 50%;
            background-color: #fee2e2;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 16px;
        }

        .error-icon .icon {
            color: #dc2626;
        }

        .error-message {
            color: #6b7280;
            margin-bottom: 24px;
        }

        .modal-title {
            font-size: 1.125rem;
            font-weight: 500;
            color: #1f2937;
            margin-bottom: 16px;
        }

        .form-group {
            margin-bottom: 16px;
        }

        .form-label {
            display: block;
            font-size: 0.875rem;
            font-weight: 500;
            color: #374151;
            margin-bottom: 4px;
        }

        .form-input,
        .form-select {
            width: 100%;
            padding: 8px 12px;
            border: 1px solid #d1d5db;
            border-radius: 6px;
            font-size: 1rem;
            outline: none;
            transition: border-color 0.2s, box-shadow 0.2s;
        }

        .form-input:focus,
        .form-select:focus {
            border-color: #7c3aed;
            box-shadow: 0 0 0 2px rgba(124, 58, 237, 0.2);
        }

        .collaborator-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-bottom: 8px;
        }

        .collaborator-tag {
            display: flex;
            align-items: center;
            background-color: #f3e8ff;
            color: #7e22ce;
            padding: 4px 8px;
            border-radius: 9999px;
            font-size: 0.875rem;
        }

        .remove-collaborator {
            background: none;
            border: none;
            color: #7e22ce;
            cursor: pointer;
            margin-left: 4px;
        }

        .collaborator-input {
            display: flex;
        }

        .form-select {
            flex: 1;
            border-radius: 6px 0 0 6px;
            border-right: none;
        }

        .modal-actions {
            display: flex;
            justify-content: flex-end;
            gap: 12px;
            margin-top: 24px;
        }

        /* Mobile Menu */
        .mobile-menu {
            position: fixed;
            inset: 0;
            z-index: 40;
        }

        .mobile-menu-overlay {
            position: fixed;
            inset: 0;
            background-color: rgba(0, 0, 0, 0.25);
        }

        .mobile-menu-container {
            position: fixed;
            inset-y: 0;
            left: 0;
            max-width: 256px;
            width: 100%;
            background-color: #4c1d95;
            color: white;
            display: flex;
            flex-direction: column;
        }

        .mobile-menu-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            height: 64px;
            padding: 0 24px;
            border-bottom: 1px solid #5b21b6;
        }

        .close-button {
            background: none;
            border: none;
            color: white;
            cursor: pointer;
        }

        .mobile-menu-content {
            flex: 1;
            padding: 24px 16px;
            overflow: auto;
            display: flex;
            flex-direction: column;
        }

        .mobile-menu-footer {
            margin-top: auto;
        }

        /* Loading Overlay */
        .loading-overlay {
            position: fixed;
            inset: 0;
            background-color: rgba(255, 255, 255, 0.8);
            z-index: 50;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .loading-content {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .spinner {
            width: 64px;
            height: 64px;
            border: 4px solid transparent;
            border-top-color: #7c3aed;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-bottom: 16px;
        }

        .loading-text {
            color: #7c3aed;
            font-size: 1.125rem;
            font-weight: 500;
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }

        /* Skeleton Loading */
        .skeleton-item {
            display: flex;
            align-items: center;
            gap: 8px;
            animation: pulse 1.5s infinite;
        }

        .skeleton-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background-color: rgba(255, 255, 255, 0.3);
        }

        .skeleton-line {
            height: 12px;
            width: 75%;
            border-radius: 4px;
            background-color: rgba(255, 255, 255, 0.3);
        }

        .skeleton-card {
            height: 192px;
            background-color: white;
            border-radius: 8px;
            padding: 24px;
            display: flex;
            flex-direction: column;
            animation: pulse 1.5s infinite;
        }

        .skeleton-header {
            height: 16px;
            width: 75%;
            background-color: #e5e7eb;
            border-radius: 4px;
            margin-bottom: 16px;
        }

        .skeleton-stats {
            height: 12px;
            width: 25%;
            background-color: #e5e7eb;
            border-radius: 4px;
            margin-bottom: 16px;
        }

        .skeleton-footer {
            height: 32px;
            width: 100%;
            background-color: #e5e7eb;
            border-radius: 4px;
            margin-top: auto;
        }

        @keyframes pulse {

            0%,
            100% {
                opacity: 1;
            }

            50% {
                opacity: 0.5;
            }
        }
    </style>
</head>

<body>
    <!-- Loading Overlay -->
    <div id="loading-overlay" class="loading-overlay">
        <div class="loading-content">
            <div class="spinner"></div>
            <p class="loading-text">Loading your taskboards...</p>
        </div>
    </div>

    <!-- Error Modal -->
    <div id="error-modal" class="modal hidden">
        <div class="modal-content error-modal">
            <div class="error-header">
                <div class="error-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon" fill="none" viewBox="0 0 24 24"
                        stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" />
                    </svg>
                </div>
                <h3 class="modal-title">Something went wrong</h3>
            </div>
            <p id="error-message" class="error-message">Unable to load taskboards.</p>
            <button id="error-close-btn" class="button button-error">
                Try Again
            </button>
        </div>
    </div>

    <!-- Main Layout -->
    <div class="app-container" id="app-container">
        <!-- Sidebar -->
        <div class="sidebar">
            <div class="sidebar-header">
                <h1 class="logo">TaskFlow</h1>
            </div>
            <div class="sidebar-content">
                <div class="nav-links">
                    <a href="/taskboards" class="nav-link active">
                        <svg xmlns="http://www.w3.org/2000/svg" class="icon" fill="none" viewBox="0 0 24 24"
                            stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2" />
                        </svg>
                        <span>Task Boards</span>
                    </a>
                    <a href="#" class="nav-link">
                        <svg xmlns="http://www.w3.org/2000/svg" class="icon" fill="none" viewBox="0 0 24 24"
                            stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                        </svg>
                        <span>Timeline</span>
                    </a>
                    <a href="#" class="nav-link">
                        <svg xmlns="http://www.w3.org/2000/svg" class="icon" fill="none" viewBox="0 0 24 24"
                            stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" />
                        </svg>
                        <span>Analytics</span>
                    </a>
                </div>

                <div class="sidebar-section">
                    <h2 class="sidebar-section-title">My Taskboards</h2>
                    <div id="sidebar-taskboards" class="sidebar-taskboards">
                        <!-- Taskboards will be added here -->
                        <div class="skeleton-item">
                            <div class="skeleton-dot"></div>
                            <div class="skeleton-line"></div>
                        </div>
                        <div class="skeleton-item">
                            <div class="skeleton-dot"></div>
                            <div class="skeleton-line"></div>
                        </div>
                    </div>
                </div>

                <div class="sidebar-footer">
                    <button id="logout-btn" class="logout-button">
                        <svg xmlns="http://www.w3.org/2000/svg" class="icon" fill="none" viewBox="0 0 24 24"
                            stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1" />
                        </svg>
                        <span>Logout</span>
                    </button>
                    <div class="user-profile">
                        <div id="user-avatar" class="user-avatar">U</div>
                        <div class="user-info">
                            <p id="user-name" class="user-name">User</p>
                            <p id="user-email" class="user-email">user@example.com</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <!-- Top Navigation -->
            <header class="header">
                <div class="header-container">
                    <div class="header-left">
                        <button id="mobile-menu-button" class="mobile-menu-button">
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon" fill="none" viewBox="0 0 24 24"
                                stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M4 6h16M4 12h16M4 18h16" />
                            </svg>
                        </button>
                        <h2 class="page-title">My Task Boards</h2>
                    </div>
                    <div class="header-right">
                        <button id="create-taskboard-btn" class="button button-primary">
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon" fill="none" viewBox="0 0 24 24"
                                stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M12 6v6m0 0v6m0-6h6m-6 0H6" />
                            </svg>
                            Create New Board
                        </button>
                    </div>
                </div>
            </header>

            <!-- Dashboard Stats -->
            <div class="stats-container">
                <div class="stats-grid">
                    <div class="stat-card stat-created">
                        <div class="stat-icon">
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon" fill="none" viewBox="0 0 24 24"
                                stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M12 6v6m0 0v6m0-6h6m-6 0H6" />
                            </svg>
                        </div>
                        <div class="stat-content">
                            <p class="stat-label">Boards You Created</p>
                            <p id="created-boards" class="stat-value">0</p>
                        </div>
                    </div>
                    <div class="stat-card stat-collaborator">
                        <div class="stat-icon">
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon" fill="none" viewBox="0 0 24 24"
                                stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z" />
                            </svg>
                        </div>
                        <div class="stat-content">
                            <p class="stat-label">Boards You're Added To</p>
                            <p id="collaborator-boards" class="stat-value">0</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Taskboards Grid -->
            <div class="content-area">
                <!-- Boards You Created Section -->
                <div class="board-section">
                    <h3 class="section-title">Boards You Created</h3>
                    <div id="created-taskboards-container" class="taskboards-grid">
                        <!-- Created taskboards will be added here -->
                        <div class="skeleton-card">
                            <div class="skeleton-header"></div>
                            <div class="skeleton-line"></div>
                            <div class="skeleton-stats"></div>
                            <div class="skeleton-footer"></div>
                        </div>
                    </div>
                    <div id="no-created-boards" class="empty-section hidden">
                        <p>You haven't created any boards yet.</p>
                    </div>
                </div>

                <!-- Boards You're Added To Section -->
                <div class="board-section">
                    <h3 class="section-title">Boards You're Added To</h3>
                    <div id="collaborator-taskboards-container" class="taskboards-grid">
                        <!-- Collaborator taskboards will be added here -->
                        <div class="skeleton-card">
                            <div class="skeleton-header"></div>
                            <div class="skeleton-line"></div>
                            <div class="skeleton-stats"></div>
                            <div class="skeleton-footer"></div>
                        </div>
                    </div>
                    <div id="no-collaborator-boards" class="empty-section hidden">
                        <p>You haven't been added to any boards yet.</p>
                    </div>
                </div>

                <!-- Empty State -->
                <div id="empty-state" class="empty-state hidden">
                    <div class="empty-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" class="icon" fill="none" viewBox="0 0 24 24"
                            stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2" />
                        </svg>
                    </div>
                    <h3 class="empty-title">No taskboards yet</h3>
                    <p class="empty-description">Create your first taskboard to start organizing your tasks and
                        collaborating with your team.</p>
                    <button id="empty-create-btn" class="button button-primary">
                        Create Your First Board
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Create Taskboard Modal -->
    <div id="create-taskboard-modal" class="modal hidden">
        <div class="modal-content create-modal">
            <h3 class="modal-title">Create New Task Board</h3>
            <div class="form-group">
                <label for="taskboard-name" class="form-label">Board Name</label>
                <input type="text" id="taskboard-name" class="form-input">
            </div>
            <div class="form-group">
                <label class="form-label">Collaborators</label>
                <div id="selected-collaborators" class="collaborator-tags">
                    <!-- Selected collaborators will appear here -->
                </div>
                <div class="collaborator-input">
                    <select id="collaborator-select" class="form-select">
                        <option value="">Select a collaborator</option>
                        <!-- Available users will be added here -->
                    </select>
                    <button id="add-collaborator-btn" class="button button-add">
                        Add
                    </button>
                </div>
            </div>
            <div class="modal-actions">
                <button id="cancel-create-taskboard" class="button button-secondary">
                    Cancel
                </button>
                <button id="save-taskboard" class="button button-primary">
                    Create
                </button>
            </div>
        </div>
    </div>

    <!-- Mobile Menu (for responsive design) -->
    <div id="mobile-menu" class="mobile-menu hidden">
        <div class="mobile-menu-overlay"></div>
        <div class="mobile-menu-container">
            <div class="mobile-menu-header">
                <h1 class="logo">TaskFlow</h1>
                <button id="close-mobile-menu" class="close-button">
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon" fill="none" viewBox="0 0 24 24"
                        stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M6 18L18 6M6 6l12 12" />
                    </svg>
                </button>
            </div>
            <div class="mobile-menu-content">
                <div class="nav-links">
                    <a href="/taskboards" class="nav-link active">
                        <svg xmlns="http://www.w3.org/2000/svg" class="icon" fill="none" viewBox="0 0 24 24"
                            stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2" />
                        </svg>
                        <span>Task Boards</span>
                    </a>
                    <a href="#" class="nav-link">
                        <svg xmlns="http://www.w3.org/2000/svg" class="icon" fill="none" viewBox="0 0 24 24"
                            stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                        </svg>
                        <span>Timeline</span>
                    </a>
                    <a href="#" class="nav-link">
                        <svg xmlns="http://www.w3.org/2000/svg" class="icon" fill="none" viewBox="0 0 24 24"
                            stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" />
                        </svg>
                        <span>Analytics</span>
                    </a>
                </div>

                <div class="sidebar-section">
                    <h2 class="sidebar-section-title">My Taskboards</h2>
                    <div id="mobile-taskboards" class="sidebar-taskboards">
                        <!-- Taskboards will be added here -->
                    </div>
                </div>

                <div class="mobile-menu-footer">
                    <button id="mobile-logout-btn" class="logout-button">
                        <svg xmlns="http://www.w3.org/2000/svg" class="icon" fill="none" viewBox="0 0 24 24"
                            stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1" />
                        </svg>
                        <span>Logout</span>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- <script src="taskboards.js"></script> -->
    <script>
        // DOM Elements - Main UI
        const loadingOverlay = document.getElementById('loading-overlay');
        const errorModal = document.getElementById('error-modal');
        const errorMessage = document.getElementById('error-message');
        const errorCloseBtn = document.getElementById('error-close-btn');
        const appContainer = document.getElementById('app-container');

        // DOM Elements - User Info
        const userAvatar = document.getElementById('user-avatar');
        const userName = document.getElementById('user-name');
        const userEmailEl = document.getElementById('user-email');

        // DOM Elements - Taskboards
        const createdTaskboardsContainer = document.getElementById('created-taskboards-container');
        const collaboratorTaskboardsContainer = document.getElementById('collaborator-taskboards-container');
        const noCreatedBoards = document.getElementById('no-created-boards');
        const noCollaboratorBoards = document.getElementById('no-collaborator-boards');
        const emptyState = document.getElementById('empty-state');
        const sidebarTaskboards = document.getElementById('sidebar-taskboards');
        const mobileTaskboards = document.getElementById('mobile-taskboards');

        // DOM Elements - Stats
        const createdBoardsEl = document.getElementById('created-boards');
        const collaboratorBoardsEl = document.getElementById('collaborator-boards');

        // DOM Elements - Create Taskboard
        const createTaskboardBtn = document.getElementById('create-taskboard-btn');
        const emptyCreateBtn = document.getElementById('empty-create-btn');
        const createTaskboardModal = document.getElementById('create-taskboard-modal');
        const taskboardNameInput = document.getElementById('taskboard-name');
        const collaboratorSelect = document.getElementById('collaborator-select');
        const addCollaboratorBtn = document.getElementById('add-collaborator-btn');
        const selectedCollaborators = document.getElementById('selected-collaborators');
        const saveTaskboardBtn = document.getElementById('save-taskboard');
        const cancelCreateTaskboardBtn = document.getElementById('cancel-create-taskboard');

        // DOM Elements - Mobile
        const mobileMenuButton = document.getElementById('mobile-menu-button');
        const mobileMenu = document.getElementById('mobile-menu');
        const closeMobileMenuBtn = document.getElementById('close-mobile-menu');

        // DOM Elements - Logout
        const logoutBtn = document.getElementById('logout-btn');
        const mobileLogoutBtn = document.getElementById('mobile-logout-btn');

        // Data storage
        let taskboards = [];
        let allUsers = [];
        let userEmail = '';
        let selectedCollaboratorsList = [];

        // Initialize the app
        async function init() {
            try {
                // Show loading state
                showLoadingState();

                // Fetch users and taskboards
                await Promise.all([fetchUsers(), getTaskboardsOfUser()]);

                // Hide loading state
                hideLoadingState();
            } catch (error) {
                console.error("Error initializing app:", error);
                showErrorState("Error loading taskboards", error.message || "Please try again later");
            }
        }

        // Get JWT token from cookies
        function getAuthTokenFromCookies(cookies) {
            const cookieArray = cookies.split(';');
            for (let i = 0; i < cookieArray.length; i++) {
                const cookie = cookieArray[i].trim();
                if (cookie.startsWith('token=')) {
                    return cookie.substring(6);
                }
            }
            return null;
        }

        // Decode JWT token
        function decodeJWT(token) {
            try {
                const base64Url = token.split('.')[1];
                const base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');
                const jsonPayload = decodeURIComponent(atob(base64).split('').map(function (c) {
                    return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);
                }).join(''));
                return JSON.parse(jsonPayload);
            } catch (error) {
                console.error("Error decoding JWT:", error);
                return {};
            }
        }

        // Fetch all users
        async function fetchUsers() {
            try {
                const usersResponse = await fetch(`/getallusers`, { method: 'GET' });
                if (usersResponse.ok) {
                    const usersData = await usersResponse.json();
                    console.log("Users data:", usersData);
                    allUsers = usersData.users || [];
                } else {
                    throw new Error(`Failed to fetch users: ${usersResponse.statusText}`);
                }
            } catch (error) {
                console.error("Error fetching users:", error);
                throw error;
            }
        }

        // Fetch taskboards of user
        async function getTaskboardsOfUser() {
            const token = getAuthTokenFromCookies(document.cookie);
            if (token) {
                userEmail = decodeJWT(token).email || "User";
                console.log("user email ", userEmail)
                const taskboardresponse = await fetch(`/gettaskboards/${userEmail}`, { method: 'GET' })
                console.log("task boards response ")
                const taskboardsjson = await taskboardresponse.json()
                taskboards = taskboardsjson?.usertasks?.user_tasks
                console.log("task boards ", taskboards)
                renderContent()
            }
            else {
                createdTaskboardsContainer.innerHTML = "<div class='empty-message'>Please Login to view your taskboards</div>";
                collaboratorTaskboardsContainer.innerHTML = "";
                hideLoadingState();
            }
        }

        // Render content
        function renderContent() {
            // Update user info
            updateUserInfo();

            // Render taskboards
            renderTaskboards();

            // Update stats
            updateStats();

            // Populate collaborator select
            populateCollaboratorSelect();
        }

        // Update user info
        function updateUserInfo() {
            if (userEmail) {
                const initials = userEmail.substring(0, 2).toUpperCase();
                userAvatar.textContent = initials;
                userName.textContent = userEmail.split('@')[0] || "User";
                userEmailEl.textContent = userEmail;
            }
        }

        // Render taskboards
        function renderTaskboards() {
            // Clear existing taskboards
            createdTaskboardsContainer.innerHTML = '';
            collaboratorTaskboardsContainer.innerHTML = '';
            sidebarTaskboards.innerHTML = '';
            mobileTaskboards.innerHTML = '';

            if (!taskboards || taskboards.length === 0) {
                // Show empty state
                emptyState.classList.remove('hidden');
                noCreatedBoards.classList.remove('hidden');
                noCollaboratorBoards.classList.remove('hidden');
                return;
            }

            // Hide empty state
            emptyState.classList.add('hidden');

            // Split taskboards into created and collaborator
            const createdBoards = taskboards.filter(board => board.createdBy === userEmail);
            const collaboratorBoards = taskboards.filter(board => board.createdBy !== userEmail);

            // Show/hide empty section messages
            if (createdBoards.length === 0) {
                noCreatedBoards.classList.remove('hidden');
            } else {
                noCreatedBoards.classList.add('hidden');
            }

            if (collaboratorBoards.length === 0) {
                noCollaboratorBoards.classList.remove('hidden');
            } else {
                noCollaboratorBoards.classList.add('hidden');
            }

            // Render created boards
            createdBoards.forEach(board => renderTaskboardCard(board, createdTaskboardsContainer));

            // Render collaborator boards
            collaboratorBoards.forEach(board => renderTaskboardCard(board, collaboratorTaskboardsContainer));

            // Render all boards in sidebar
            taskboards.forEach(board => {
                // Create sidebar taskboard item
                const sidebarItem = document.createElement('div');
                sidebarItem.className = 'sidebar-item group';
                sidebarItem.innerHTML = `
            <div class="sidebar-link">
                <a href="/individualtaskboard/${board.id}" class="sidebar-board-link">
                    <span class="sidebar-dot ${board.createdBy === userEmail ? 'creator-dot' : 'collaborator-dot'}"></span>
                    <span class="sidebar-text">${board.name}</span>
                </a>
                <div class="dropdown">
                    <button class="dropdown-toggle sidebar-action">
                        <svg xmlns="http://www.w3.org/2000/svg" class="icon" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 12h.01M12 12h.01M19 12h.01M6 12a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0z" />
                        </svg>
                    </button>
                    <div class="dropdown-menu hidden">
                        <a href="/individualtaskboard/${board.id}" class="dropdown-item">Open Board</a>
                        <a href="#" class="dropdown-item manage-team" data-id="${board.id}">Manage Team</a>
                        ${board.createdBy === userEmail ? `
                        <a href="#" class="dropdown-item danger delete-board" data-id="${board.id}">Delete Board</a>
                        ` : ''}
                    </div>
                </div>
            </div>
        `;

                sidebarTaskboards.appendChild(sidebarItem);

                // Create mobile taskboard item (copy of sidebar)
                const mobileItem = sidebarItem.cloneNode(true);
                mobileTaskboards.appendChild(mobileItem);
            });

            // Add dropdown toggle event listeners
            document.querySelectorAll('.dropdown-toggle').forEach(toggle => {
                toggle.addEventListener('click', (e) => {
                    e.stopPropagation();
                    const menu = e.currentTarget.nextElementSibling;
                    menu.classList.toggle('hidden');
                });
            });

            // Close dropdowns when clicking outside
            document.addEventListener('click', () => {
                document.querySelectorAll('.dropdown-menu').forEach(menu => {
                    menu.classList.add('hidden');
                });
            });

            // Add event listeners for manage team and delete board
            document.querySelectorAll('.manage-team').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    e.preventDefault();
                    const boardId = e.currentTarget.dataset.id;
                    window.location.href = `/individualtaskboard/${boardId}?showTeam=true`;
                });
            });

            document.querySelectorAll('.delete-board').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    e.preventDefault();
                    const boardId = e.currentTarget.dataset.id;
                    if (confirm('Are you sure you want to delete this board? This action cannot be undone.')) {
                        deleteTaskboard(boardId);
                    }
                });
            });
        }

        // Render taskboard card
        function renderTaskboardCard(taskboard, container) {
            // Create taskboard card
            const taskboardCard = document.createElement('div');
            taskboardCard.className = 'taskboard-card';

            // Calculate task stats
            const totalTasks = taskboard.tasks ? taskboard.tasks.length : 0;
            const completedTasks = taskboard.tasks ? taskboard.tasks.filter(task => task.status === 'completed').length : 0;
            const activeTasks = totalTasks - completedTasks;

            // Determine if user is creator
            const isCreator = taskboard.createdBy === userEmail;

            taskboardCard.innerHTML = `
        <div class="card-content">
            <div class="card-header">
                <div>
                    <h3 class="card-title">${taskboard.name}</h3>
                    <span class="card-badge ${isCreator ? 'badge-creator' : 'badge-collaborator'}">
                        ${isCreator ? 'Created by you' : 'Collaborator'}
                    </span>
                </div>
                <div class="dropdown">
                    <button class="dropdown-toggle">
                        <svg xmlns="http://www.w3.org/2000/svg" class="icon" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 12h.01M12 12h.01M19 12h.01M6 12a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0z" />
                        </svg>
                    </button>
                    <div class="dropdown-menu hidden">
                        <a href="/individualtaskboard/${taskboard.id}" class="dropdown-item">Open Board</a>
                        <a href="#" class="dropdown-item manage-team" data-id="${taskboard.id}">Manage Team</a>
                        ${isCreator ? `
                        <a href="#" class="dropdown-item danger delete-board" data-id="${taskboard.id}">Delete Board</a>
                        ` : ''}
                    </div>
                </div>
            </div>
            
            <div class="card-stats">
                <svg xmlns="http://www.w3.org/2000/svg" class="icon" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2" />
                </svg>
                <span>${totalTasks} tasks</span>
                ${totalTasks > 0 ? `
                <span class="stat-separator">•</span>
                <span class="stat-completed">${completedTasks} completed</span>
                <span class="stat-separator">•</span>
                <span class="stat-active">${activeTasks} active</span>
                ` : ''}
            </div>
            
            <div class="member-avatars">
                ${taskboard.members && taskboard.members.slice(0, 3).map((member, index) => `
                    <div class="member-avatar" title="${member}">
                        ${member.substring(0, 2).toUpperCase()}
                    </div>
                `).join('')}
                ${taskboard.members && taskboard.members.length > 3 ? `
                    <div class="member-avatar avatar-more">
                        +${taskboard.members.length - 3}
                    </div>
                ` : ''}
            </div>
        </div>
        <div class="card-footer">
            <a href="/individualtaskboard/${taskboard.id}" class="open-board-btn">
                Open Board
            </a>
        </div>
    `;

            container.appendChild(taskboardCard);
        }

        // Update stats
        function updateStats() {
            if (!taskboards) return;

            const createdBoards = taskboards.filter(board => board.createdBy === userEmail).length;
            const collaboratorBoards = taskboards.filter(board => board.createdBy !== userEmail).length;

            createdBoardsEl.textContent = createdBoards;
            collaboratorBoardsEl.textContent = collaboratorBoards;
        }

        // Populate collaborator select
        function populateCollaboratorSelect() {
            collaboratorSelect.innerHTML = '<option value="">Select a collaborator</option>';

            // Filter out current user
            const availableUsers = allUsers.filter(user =>
                user.email !== userEmail && !selectedCollaboratorsList.includes(user.email)
            );

            availableUsers.forEach(user => {
                const option = document.createElement('option');
                option.value = user.email;
                option.textContent = user.email;
                collaboratorSelect.appendChild(option);
            });
        }

        // Add collaborator
        function addCollaborator() {
            const email = collaboratorSelect.value;
            if (email && !selectedCollaboratorsList.includes(email)) {
                selectedCollaboratorsList.push(email);

                // Create collaborator tag
                const tag = document.createElement('div');
                tag.className = 'collaborator-tag';
                tag.innerHTML = `
            <span>${email}</span>
            <button class="remove-collaborator" data-email="${email}">
                <svg xmlns="http://www.w3.org/2000/svg" class="icon" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                </svg>
            </button>
        `;

                selectedCollaborators.appendChild(tag);

                // Add event listener for remove button
                tag.querySelector('.remove-collaborator').addEventListener('click', (e) => {
                    const emailToRemove = e.currentTarget.dataset.email;
                    selectedCollaboratorsList = selectedCollaboratorsList.filter(e => e !== emailToRemove);
                    tag.remove();
                    populateCollaboratorSelect();
                });

                // Reset select
                collaboratorSelect.value = '';
                populateCollaboratorSelect();
            }
        }

        // Delete taskboard
        async function deleteTaskboard(boardId) {
            try {
                // TODO: API call to delete taskboard
                // await deleteTaskboardAPI(boardId);

                // For demo purposes, remove from array
                taskboards = taskboards.filter(board => board.id !== boardId);

                // Update UI
                renderContent();
            } catch (error) {
                console.error("Error deleting taskboard:", error);
                alert("Failed to delete taskboard. Please try again.");
            }
        }

        // Show loading state
        function showLoadingState() {
            loadingOverlay.classList.remove('hidden');
            appContainer.classList.add('opacity-50');
            appContainer.style.pointerEvents = 'none';
        }

        // Hide loading state
        function hideLoadingState() {
            loadingOverlay.classList.add('hidden');
            appContainer.classList.remove('opacity-50');
            appContainer.style.pointerEvents = 'auto';
        }

        // Show error state
        function showErrorState(message, details) {
            loadingOverlay.classList.add('hidden');
            errorModal.classList.remove('hidden');

            errorMessage.textContent = details || "Please try again later";
        }

        // Event Listeners

        // Error modal
        errorCloseBtn.addEventListener('click', () => {
            errorModal.classList.add('hidden');
            init(); // Try again
        });

        // Mobile menu
        mobileMenuButton.addEventListener('click', () => {
            mobileMenu.classList.remove('hidden');
        });

        closeMobileMenuBtn.addEventListener('click', () => {
            mobileMenu.classList.add('hidden');
        });

        // Create taskboard
        createTaskboardBtn.addEventListener('click', () => {
            createTaskboardModal.classList.remove('hidden');
            taskboardNameInput.focus();
        });

        emptyCreateBtn.addEventListener('click', () => {
            createTaskboardModal.classList.remove('hidden');
            taskboardNameInput.focus();
        });

        cancelCreateTaskboardBtn.addEventListener('click', () => {
            createTaskboardModal.classList.add('hidden');
            // Reset form
            taskboardNameInput.value = '';
            selectedCollaboratorsList = [];
            selectedCollaborators.innerHTML = '';
            populateCollaboratorSelect();
        });

        // Add collaborator
        addCollaboratorBtn.addEventListener('click', addCollaborator);

        // Save taskboard
        saveTaskboardBtn.addEventListener('click', async () => {
            const name = taskboardNameInput.value.trim();

            if (name) {
                try {
                    // TODO: API call to create taskboard
                    // await createTaskboard(name, selectedCollaboratorsList);

                    // For demo purposes, add a new taskboard to the array
                    const newTaskboard = {
                        id: Date.now().toString(),
                        name: name,
                        createdBy: userEmail,
                        members: [userEmail, ...selectedCollaboratorsList],
                        tasks: []
                    };

                    taskboards.push(newTaskboard);

                    // Update UI
                    renderContent();
                    createTaskboardModal.classList.add('hidden');

                    // Reset form
                    taskboardNameInput.value = '';
                    selectedCollaboratorsList = [];
                    selectedCollaborators.innerHTML = '';
                    populateCollaboratorSelect();
                } catch (error) {
                    console.error("Error creating taskboard:", error);
                    alert("Failed to create taskboard. Please try again.");
                }
            }
        });

        // Logout
        logoutBtn.addEventListener('click', () => {
            // Clear cookies and redirect to login page
            document.cookie = "token=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;";
            window.location.href = "/login";
        });

        mobileLogoutBtn.addEventListener('click', () => {
            // Clear cookies and redirect to login page
            document.cookie = "token=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;";
            window.location.href = "/login";
        });

        // Close modals when clicking outside
        window.addEventListener('click', (e) => {
            if (e.target === createTaskboardModal) {
                createTaskboardModal.classList.add('hidden');
                // Reset form
                taskboardNameInput.value = '';
                selectedCollaboratorsList = [];
                selectedCollaborators.innerHTML = '';
                populateCollaboratorSelect();
            }
            if (e.target === mobileMenu) {
                mobileMenu.classList.add('hidden');
            }
        });

        // Initialize the app
        init();
    </script>
</body>

</html>